*** Settings ***
Test Timeout      2 minutes    # 2分钟
Library           RequestsLibrary
Library           Collections
Library           OperatingSystem

*** Test Cases ***
电厂、机组负荷曲线
    Set Environment Variable    NLS_LANG    SIMPLIFIED_CHINESE_CHINA_UTF8
    Create Session    api    http://10.232.234.210:8800
    ${deptGuid}    Set Variable    1a15920c-8a43-40cd-93a8-a0a481e5aeca    #机构或机组ID
    ${timeType}    Set Variable    3    #时间类型:1近6小时;2近24小时;3近两天
    ${addr}    get request    api    HyAppService.svc/GetLoadDataStock?deptGuid=${deptGuid}&timeType=${timeType}
    Should Be Equal As Integers    ${addr.status_code}    200
    ${responsedata}    to json    ${addr.content}
    ${t-0}    get from dictionary    ${responsedata[0]}    t
    ${v-0}    get from dictionary    ${responsedata[0]}    v
    ${t-1}    get from dictionary    ${responsedata[1]}    t
    ${v-1}    get from dictionary    ${responsedata[1]}    v
    ${t-2}    get from dictionary    ${responsedata[2]}    t
    ${v-2}    get from dictionary    ${responsedata[2]}    v
    ${t-3}    get from dictionary    ${responsedata[3]}    t
    ${v-3}    get from dictionary    ${responsedata[3]}    v
    ${t-4}    get from dictionary    ${responsedata[4]}    t
    ${v-4}    get from dictionary    ${responsedata[4]}    v
    Run Keyword if    ${addr.status_code}==200    log    电厂、机组负荷查询成功
    Delete All Sessions
