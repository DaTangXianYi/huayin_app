*** Settings ***
Library           RequestsLibrary
Library           Collections
Resource          关键字.txt

*** Test Cases ***
getFiAffixById
    create session    api    http://192.168.25.129:7799    #创建session
    ${addr}    get request    api    xymis/camel/mapi/terminalRestService/getFiAffixById/59048bff-15f9-47df-8792-b8580ef64b13
    Should Be Equal As Strings    ${addr.status_code}    200    #判断请求响应是否为200，服务器成功返回网页
    log    ${addr.content}    #打印接口返回值
    ${responsedate}    to json    ${addr.content}
    ${keys}    Get Dictionary Keys    ${responsedate}
    ${items}    Get Dictionary items    ${responsedate}
    ${values}    Get Dictionary values    ${responsedate}
    ${exception}    get from dictionary    ${responsedate}    exception
    ${flag}    get from dictionary    ${responsedate}    flag
    ${jsonContent}    get from dictionary    ${responsedate}    jsonContent
    ${result}    get from dictionary    ${responsedate}    result
    ${statusCode}    get from dictionary    ${responsedate}    statusCode
    ${url}    get from dictionary    ${responsedate}    url
    Run Keyword if    '${flag}'=='success'    log    查询成功
    Run Keyword if    ${statusCode}==0    log    查询成功
    Delete All Sessions
